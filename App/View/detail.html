<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>详细信息</title>
  <!--引入pintuer.css-->
  <link rel="stylesheet" href="../../Public/css/pintuer.css" type="text/css">
  <!--<link rel="stylesheet" href="../../Public/css/bootstrap.min.css" type="text/css">-->
  <!--引入pintuer.js和jquery.js jquery需要在pintuer之前引用-->
  <script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.js"></script>
  <script src="../../Public/javascript/pintuer.js" type="text/javascript"></script>
  <script src="../../Public/javascript/respond.js" type="text/javascript"></script>
</head>
<body>
<div class="navbar bg-green bg-inverse radius ">
  <div class="navbar-head">
    <button class="button bg icon-navicon" data-target="#naver"></button>
    <a href="#"><img src="" alt=""></a>
  </div>
  <div class="navbar-body nav-navicon" id="naver">
    <ul class="nav nav-inline nav-menu  ">
      <li ><a href="index.html">首页</a> </li>
      <li class="active"><a href="create.html">商品管理</a></li>
      <li><a href="dataTable.html">商品列表</a></li>
    </ul>
  </div>
</div>
<form action="../Controller/manageController.php" method="post" >
<div class="table-responsive">
  <table id="table" class="table table-hover">
      <tbody id="data-area">
          <tr>
            <th width="100" >图片</th>
            <th width="*">信息</th>
            <th width="*">分类</th>
            <th width="100">价格(元)</th>
            <th width="*">描述</th>
            <th width="100">操作</th>
          </tr>

        <!--  <tr>
            <td>
              <img src="../../Public/img/1.png" alt="" style="width:350px;height: auto;max-height: 500px;max-width: 350px; min-width:350px ;overflow:hidden;">
            </td>
            <td>
              <span class="text-gray">名称：</span><br>
              <span class="text-gray">型号：</span>
            </td>
            <td>
              <span class="text-gray">类别：</span>
            </td>
            <td>
              <span class="text-gray">进价：</span><br>
              <span class="text-gray">售价：</span>
            </td>
            <td>
              <span class="text-gray">描述：</span>
            </td>
            <td>
              <a href="#" class="button-small button bg-blue " style="margin-bottom: 5px;">修改</a>
              <a href="#" class="button-small button bg-red " style="margin-bottom: 5px;">删除</a>
            </td>
          </tr>-->
          <!--<tr>-->
            <!--<td>-->
              <!--&lt;!&ndash;<img src="../../Public/img/2.png" alt="" style="width:350px;height: auto;max-height: 500px;max-width: 350px; min-width:350px ;overflow:hidden;">&ndash;&gt;-->
              <!--<img src="../../Public/img/2.png" alt="" style="width: 200px;height: auto;max-height: 500px;max-width: 350px; min-width:350px ;border: 1px #999999 dotted;">-->
            <!--</td>-->
            <!--<td>-->
              <!--<span class="text-gray">名称：</span><br>-->
              <!--<span class="text-gray">型号：</span>-->
            <!--</td>-->
            <!--<td>-->
              <!--<span class="text-gray">类别：</span>-->
            <!--</td>-->
            <!--<td>-->
              <!--<span class="text-gray">进价：</span><br>-->
              <!--<span class="text-gray">售价：</span>-->
            <!--</td>-->
            <!--<td>-->
              <!--<span class="text-gray">描述：</span>-->
            <!--</td>-->
            <!--<td>-->
              <!--<a href="#" class="button-small button bg-blue " style="margin-bottom: 5px;">修改</a>-->
              <!--<a href="#" class="button-small button bg-red " style="margin-bottom: 5px;">删除</a>-->
            <!--</td>-->
          <!--</tr>-->
      </tbody>
<!--    <div id="mydialog">
      <div class="dialog">
        <div class="dialog-head">
          <span class="close rotate-hover"></span><strong>删除商品</strong>
        </div>
        <div class="dialog-body">
          确认删除</div>
        <div class="dialog-foot">
          <button class="button dialog-close">
            取消</button>
          <button class="button bg-green" name="del" id="del">
            确认</button>
        </div>
      </div>
    </div>-->
  </table>

</div>
  <!--<button class="button-small button bg-red dialogs" data-toggle="click" data-target="#mydialog" data-mask="1" data-width="50%">删除</button>-->
</form>





<!--<div>-->
  <!--<h2 class="fadein-bottom" style="text-align: center">商品列表</h2>-->
  <!--<div class="panel border-sub " id="box" style="width: 70%;margin: auto ;overflow: auto;">-->
    <!--<div class="panel-head border-mix bg-back" id="content" ></div>-->
    <!--<div class="panel-body"  id="data-area">-->

      <!--<div class="xl12 xs6 xm4 xb3">-->
          <!--<div class="media padding-bottom clearfix">-->
            <!--<a href="#"><img src='../../Public/img/1.png' class="radius img-responsive" alt="..."></a>-->
          <!--</div>-->
      <!--</div>-->
      <!--<div class="xl12 xs6 xm4 xb3">-->
        <!--<strong class="float-left">商品名称：</strong><br>-->
        <!--<span class="text-gray float-right">分类：丽人</span><br>-->
        <!--<span class="text-gray float-left">型号：001</span><br>-->
        <!--<span class="text-gray float-right">进价：100</span><br>-->
        <!--<span class="text-gray float-left">售价：99</span><br>-->
      <!--</div>-->
      <!--<div class="detail">这是一款非常好的产品</div>-->



    <!--</div>-->
  <!--</div>-->
<!--</div>-->
<!--<div class="container">-->
  <!--<div class="panel panel-default" style="margin-top: 100px;text-align: center;">-->
    <!--<div class="panel-head"></div>-->
    <!--<div class="panel-body">-->
      <!--<div class="line-middle" id="data-area">-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->


</body>
<!--<script src="../../Public/javascript/table.js"></script>-->
<script>
/*    function myFunction(){

        var r=confirm("确认删除？");
        if (r==true){
           console.log("确认");
        }
        else{
            console.log('取消');
            window.location.href='index.html';
           //window.href('');
        }
    }*/
    $(document).ready(function () {
        //获取ID
        let url =window.location.href.split('#');
        // console.log('url:'+url);
        var id =url[1];
        console.log("id:"+id);
/*        console.log("type:"+typeof id);
        if(typeof id == undefined){
            alert("请重新选择商品");
            window.location.href = "/index.html";
        }*/
        var username = sessionStorage.getItem('username');
        if (!username) {
            alert("登陆信息已过期，请重新登陆！");
            window.location.href = "../../login.html";
        } else {

            console.log(username);
            if(typeof id == 'undefined'){
                alert("商品ID已失效，请重新选择商品");
                window.location.href = "index.html";
            }else {

                //获取分页数据
                $.ajax({
                    type: 'GET',
                    url: '/App/Controller/detailController.php',     //这里是请求的后台地址，自己定义
                    data: {
                        'commodity_id':id
                    },
                    dataType: 'json',
                    success: function (json) {
                        //console.log(json);
                        var result = [];
                        var data_html = "";
                        for (var i = 0; i < json.length; i++) {
                            result[i] = JSON.parse(json[i].replace(/\n/g, "\\n").replace(/\r/g, "\\r"));
                            var commodity = result[i].commodity;
                            var size =result[i].size;
                            var detail =result[i].detail;
                            var in_price = result[i].in_price;
                            var out_price = result[i].out_price;
                            var cate = result[i].cate;
                            var imageUrl = result[i].imageURL;
                            var url = result[i].url;
                            data_html +='<tr><td><img src='
                                + url +'style="width:350px;height: auto;max-height: 500px;max-width: 350px; min-width:350px ;overflow:hidden;"></td><td> <span class="text-gray">名称：'
                                + commodity +'</span><br><span class="text-gray">型号：'
                                + size + '</span><input class="hidden"  name="commodity_id" value="'
                                 + id+'"></td><td><span class="text-gray">类别：'
                                + cate +'</span></td><td><span class="text-gray">进价：'
                                + in_price +'</span><br><span class="text-gray">售价：'
                                + out_price + '</span></td><td><span class="text-gray">描述：'
                                + detail+ '</span></td><td><a href="edit.html#'
                                + id + '" class="button-small button bg-blue " style="margin-top: 10px;">修改</a><button class="button-small button bg-red tips" title="点击将删除商品" data-toggle="hover" name="del"  style="margin-top:10px;"> 删除</button></td></tr>';
                        //<button class="button button-big bg-main dialogs" data-toggle="click" data-target="#mydialog" data-mask="1" data-width="50%">弹出对话框</button>
                        }
                        $("#data-area ").append(data_html);
                    },
                    error: function () {
                        alert("数据加载失败");
                    }
                });
              }
            }
    })
</script>
</html>